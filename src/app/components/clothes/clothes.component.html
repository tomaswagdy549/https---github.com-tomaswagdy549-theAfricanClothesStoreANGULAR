<!-- Page Content-->
<section class="pt-4">
  <div class="container px-lg-5">
    <div
      data-bs-toggle="modal"
      data-bs-target="#ProductFilterModal"
      class="d-flex align-items-center mb-4"
      style="font-size: 1.5rem; cursor: pointer"
    >
      <i class="fa fa-filter me-2" style="font-size: 1.5rem"></i>
      <span>Filter</span>
    </div>
    <!-- Page Features-->
    <div class="row gx-lg-5">
      <div
        *ngFor="let product of products"
        class="col-lg-4 col-md-6 col-12 mb-5"
      >
        <div class="card h-100 mx-auto" style="width: 18rem">
          <img
            class="card-img-top"
            [src]="product.mainPhotoUrl"
            alt="Card image cap"
          />
          <div class="card-body">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">Price : {{ product.price }}</p>
            <div class="d-flex justify-content-between">
            <a
              (click)="sentProduct = product"
              class="btn btn-outline-dark"
              data-bs-target="#productInfoModal"
              data-bs-toggle="modal"
              >Details</a
            >
              <a *ngIf="checkIfAuthorized()"
              [href]="'editingproduct/'+product.id"
              class="btn btn-outline-dark"
              >Edit product</a
            >  
            </div>
          </div>
        </div>
      </div>
    </div>
    <nav aria-label="Page navigation example">
        <ul style="cursor: pointer;" class="pagination">
          <li *ngIf="currentPage != 1" class="page-item">
            <a
              class="page-link"
              (click)="moveToPage(pageSize, currentPage - 1)"
              >Previous</a
            >
          </li>
          <li *ngFor="let Page of totalPages; let index as i" class="page-item">
            <a
              [ngClass]="{ active: currentPage == Page }"
              class="page-link"
              (click)="moveToPage(pageSize, Page)"
              >{{ Page }}</a
            >
          </li>
          <li *ngIf="currentPage != totalPages.length" class="page-item">
            <a
              class="page-link"
              (click)="moveToPage(pageSize, currentPage + 1)"
              >next</a
            >
          </li>
        </ul>  
    </nav>
  </div>
</section>
<app-product-filter
  (productsFiltered)="showFilteredProducts($event)"
></app-product-filter>
<app-product-details [productId]="sentProduct.id"></app-product-details>